{"version":3,"sources":["../../../../../../apps/web/app/ui/settings/image-upload.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/app/dashboard/profile/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/apps/web/app/ui/settings/image-upload.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/ui/settings/image-upload.tsx\",\n    \"default\",\n);\n","import { auth } from '@/auth';\r\nimport ImageUpload from '@/app/ui/settings/image-upload';\r\nimport { updateProfileImage, updateAppLogo } from '@/app/lib/actions/settings';\r\nimport { prisma } from '@/lib/prisma';\r\n\r\nexport default async function ProfilePage() {\r\n    const session = await auth();\r\n    const user = session?.user;\r\n\r\n    // Fetch App Config\r\n    const appConfig = await prisma.appConfig.findUnique({\r\n        where: { id: 'default' },\r\n    });\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"w-full p-6\">\r\n            <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">Mi Perfil</h1>\r\n\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8\">\r\n                <div className=\"p-8\">\r\n                    <div className=\"flex items-start gap-8\">\r\n                        <div>\r\n                            <ImageUpload\r\n                                currentImage={user.image}\r\n                                onUpload={updateProfileImage}\r\n                                label=\"Cambiar Foto\"\r\n                                alt={user.name || 'Profile'}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4 flex-1 pt-2\">\r\n                            <div>\r\n                                <h2 className=\"text-xl font-bold text-gray-900\">{user.name || 'Usuario'}</h2>\r\n                                <div className=\"mt-2\">\r\n                                    <span className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-700\">\r\n                                        {user.role || 'Empleado'}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <p className=\"text-gray-500 max-w-2xl\">\r\n                                {user.role === 'ADMIN'\r\n                                    ? 'Cuenta administrativa con acceso completo a la gestión de fincas, inventario animal, finanzas y equipo.'\r\n                                    : 'Cuenta de empleado con acceso a las funciones asignadas.'}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"border-t border-gray-100 p-8 pt-6\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n                        <div>\r\n                            <p className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2\">Email / Usuario</p>\r\n                            <p className=\"font-medium text-gray-900\">{user.email || Object.values(user || {}).find(v => typeof v === 'string' && v.includes('@')) || user.name}</p>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <p className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2\">Rol</p>\r\n                            <p className=\"font-medium text-gray-900\">{user.role || 'Empleado'}</p>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <p className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2\">Empresa</p>\r\n                            <p className=\"font-medium text-gray-900\">SOTO DEL PRIOR</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Application Settings (Admin Only) */}\r\n            {user.role === 'ADMIN' && (\r\n                <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\r\n                    <div className=\"p-6 border-b border-gray-100\">\r\n                        <h2 className=\"text-lg font-bold text-gray-900\">Configuración de la Aplicación</h2>\r\n                        <p className=\"text-sm text-gray-500\">Personaliza la apariencia de la aplicación.</p>\r\n                    </div>\r\n                    <div className=\"p-8\">\r\n                        <div className=\"flex items-start gap-8\">\r\n                            <div>\r\n                                <p className=\"text-sm font-medium text-gray-700 mb-4\">Logo de la Aplicación</p>\r\n                                <ImageUpload\r\n                                    currentImage={appConfig?.logoUrl}\r\n                                    onUpload={updateAppLogo}\r\n                                    label=\"Cambiar Logo\"\r\n                                    shape=\"square\"\r\n                                    alt=\"App Logo\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex-1 text-sm text-gray-500 pt-8\">\r\n                                <p>Este logo aparecerá en la esquina superior izquierda de todas las pantallas y en la pantalla de inicio de sesión.</p>\r\n                                <p className=\"mt-2\">Formato recomendado: PNG transparente, 200x50px.</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}