module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},95044,a=>{a.n(a.i(52425))},8318,a=>{a.n(a.i(54944))},44665,a=>{a.n(a.i(28992))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},68268,a=>{a.n(a.i(18224))},790,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js <module evaluation>"))},84707,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js"))},97647,a=>{"use strict";a.i(790);var b=a.i(84707);a.n(b)},95936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return i},useLinkStatus:function(){return h.useLinkStatus}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(64240),g=a.r(7997),h=f._(a.r(97647));function i(a){let b=a.legacyBehavior,c="string"==typeof a.children||"number"==typeof a.children||"string"==typeof a.children?.type,d=a.children?.type?.$$typeof===Symbol.for("react.client.reference");return!b||c||d||(a.children?.type?.$$typeof===Symbol.for("react.lazy")?console.error("Using a Lazy Component as a direct child of `<Link legacyBehavior>` from a Server Component is not supported. If you need legacyBehavior, wrap your Lazy Component in a Client Component that renders the Link's `<a>` tag."):console.error("Using a Server Component as a direct child of `<Link legacyBehavior>` is not supported. If you need legacyBehavior, wrap your Server Component in a Client Component that renders the Link's `<a>` tag.")),(0,g.jsx)(h.default,{...a})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},64402,a=>{"use strict";var b=a.i(717);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))});a.s(["PencilIcon",0,c],64402)},52910,a=>{"use strict";var b=a.i(717);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});a.s(["TrashIcon",0,c],52910)},75392,a=>{"use strict";var b=a.i(7997),c=a.i(73794),d=a.i(95936);a.i(70396);var e=a.i(73727),f=a.i(41051),g=a.i(64402),h=a.i(52910),i=a.i(717);let j=i.forwardRef(function({title:a,titleId:b,...c},d){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?i.createElement("title",{id:b},a):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});async function k({params:a}){let{id:i}=await a,k=await c.prisma.supplierProduct.findUnique({where:{id:i},include:{transformations:{include:{outputs:{include:{ingredient:!0}}}}}});return k||(0,e.notFound)(),(0,b.jsxs)("main",{className:"w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:k.name}),(0,b.jsxs)("div",{className:"text-gray-500 flex flex-col md:flex-row gap-2 md:gap-4",children:[(0,b.jsxs)("p",{children:["Proveedor: ",k.supplier||"N/D"]}),k.sapiensWorld&&(0,b.jsx)("p",{className:"hidden md:block",children:"|"}),k.sapiensWorld&&(0,b.jsxs)("p",{children:["Mundo: ",(0,b.jsx)("span",{className:"font-semibold text-blue-600",children:k.sapiensWorld})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(d.default,{href:"/dashboard/products",className:"rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-200",children:"Volver"}),(0,b.jsx)(d.default,{href:`/dashboard/products/${k.id}/transformations/create`,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-500",children:"+ Nuevo Test de Rendimiento"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:(0,b.jsxs)("div",{className:"p-6 bg-white rounded-lg border border-gray-100 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Precio Compra"}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:[new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(k.price),(0,b.jsxs)("span",{className:"text-base font-normal text-gray-400",children:[" / ",k.unit]})]})]})}),(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Elaboraciones Intermedias"}),0===k.transformations.length?(0,b.jsx)("div",{className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500",children:(0,b.jsx)("p",{children:"No se han realizado tests de rendimiento para este producto."})}):(0,b.jsx)("div",{className:"space-y-6",children:k.transformations.map(a=>{let c;return(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:[(0,b.jsxs)("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-800",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-gray-500",children:a.createdAt.toLocaleDateString()}),((c=new Date).setMonth(c.getMonth()-6),new Date(a.createdAt)<c)?(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded-full border border-amber-200",title:"Se recomienda revisar este test cada 6 meses",children:[(0,b.jsx)(j,{className:"w-3 h-3"}),"Revisar"]}):null]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:`/dashboard/products/${k.id}/transformations/${a.id}/edit`,className:"text-blue-600 hover:text-blue-800",title:"Editar",children:(0,b.jsx)(g.PencilIcon,{className:"w-5 h-5"})}),(0,b.jsx)("form",{action:f.deleteTransformation.bind(null,a.id),children:(0,b.jsx)("button",{type:"submit",className:"text-red-500 hover:text-red-700",title:"Eliminar",children:(0,b.jsx)(h.TrashIcon,{className:"w-5 h-5"})})})]})]})]}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("table",{className:"min-w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"text-gray-500 font-medium border-b border-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"pb-2",children:"Ingrediente Generado"}),(0,b.jsx)("th",{className:"pb-2 text-right",children:"Rendimiento %"}),(0,b.jsx)("th",{className:"pb-2 text-right",children:"Factor Coste"}),(0,b.jsx)("th",{className:"pb-2 text-right",children:"Coste Derivado Estimado"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-50",children:a.outputs.map(a=>(0,b.jsxs)("tr",{className:"group",children:[(0,b.jsx)("td",{className:"py-2 font-medium text-gray-800",children:a.ingredient.name}),(0,b.jsxs)("td",{className:"py-2 text-right",children:[a.percentage.toFixed(1),"%"]}),(0,b.jsxs)("td",{className:"py-2 text-right",children:["x",a.costAllocation]}),(0,b.jsx)("td",{className:"py-2 text-right text-gray-400",children:"-"})]},a.id))})]})})]},a.id)})})]})}a.s(["default",()=>k],75392)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__610062d7._.js.map